---
const pathname = Astro.url.pathname;
const isActive = (path: string) => {
  if (path === "/" && pathname === "/") return true;
  if (path !== "/" && pathname.startsWith(path)) return true;
  return false;
};
---

<header class="cyber-header">
  <div class="container">
    <div class="logo">
      <a href="/" class="logo-text">Ardnoan</a>
    </div>

    <nav class="nav">
      <button class="menu-toggle" aria-label="Toggle menu">
        <div class="hamburger">
          <span class="line"></span>
          <span class="line"></span>
          <span class="line"></span>
        </div>
      </button>

      <ul class="nav-menu">
        <li><a href="/" class={isActive("/") ? "active" : ""}>Home</a></li>
        <li>
          <a href="/about" class={isActive("/about") ? "active" : ""}>About</a>
        </li>
        <li>
          <a href="/projects" class={isActive("/projects") ? "active" : ""}>Projects</a>
        </li>
        <li>
          <a href="/contact" class={isActive("/contact") ? "active" : ""}>Contact</a>
        </li>
      </ul>
    </nav>
  </div>
</header>
<link rel="stylesheet" href="/styles/global.css" />
<link rel="stylesheet" href="/styles/header.css" />
<script>
  // Toggle mobile menu
  document.addEventListener("DOMContentLoaded", () => {
    const menuToggle = document.querySelector(".menu-toggle");
    const navMenu = document.querySelector(".nav-menu");
    const hamburger = document.querySelector(".hamburger");
    
    menuToggle?.addEventListener("click", () => {
      navMenu?.classList.toggle("active");
      hamburger?.classList.toggle("active");
    });
    
    // Close menu when clicking on links (for mobile)
    const navLinks = document.querySelectorAll(".nav-menu a");
    navLinks.forEach(link => {
      link.addEventListener("click", () => {
        navMenu?.classList.remove("active");
        hamburger?.classList.remove("active");
      });
    });
  });
</script>